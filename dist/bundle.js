(() => { function e(e) { document.querySelectorAll(".dashboard-section").forEach((function (t) { t.style.display = t.id === e ? "block" : "none" })) } document.addEventListener("DOMContentLoaded", (function () { var t = localStorage.getItem("mentorship_token"), n = window.location.pathname.split("/").pop(); !t || "index.html" !== n && "register.html" !== n && "" !== n ? t || "dashboard.html" !== n || (window.location.href = "/index.html") : window.location.href = "/dashboard.html", "dashboard.html" === n && t && (function () { var t = document.getElementById("logout-button"), n = document.getElementById("nav-profile"), o = document.getElementById("nav-discovery"), r = document.getElementById("nav-connections"), i = document.querySelectorAll("#main-nav a:not(#logout-button)"); t && t.addEventListener("click", (function (e) { e.preventDefault(), localStorage.removeItem("mentorship_token"), localStorage.removeItem("mentorship_user"), window.location.href = "/index.html" })); var a = function (e) { i.forEach((function (e) { return e.classList.remove("active") })); var t = document.getElementById(e); t && t.classList.add("active") }; n && n.addEventListener("click", (function (t) { t.preventDefault(), a("nav-profile"), e("profile-section"), loadUserProfile() })), o && o.addEventListener("click", (function (t) { t.preventDefault(), a("nav-discovery"), e("discovery-section"), loadDiscoveryUsers() })), r && r.addEventListener("click", (function (t) { t.preventDefault(), a("nav-connections"), e("connections-section"), loadAllConnections() })), a("nav-profile") }(), loadUserProfile(), e("profile-section")), "index.html" !== n && "" !== n || setupLoginForm(), "register.html" === n && setupRegisterForm() })), window.location.pathname.includes("dashboard.html") && function () { var e = document.getElementById("user-greeting"), t = localStorage.getItem("mentorship_user"); if (e && t) try { var n = JSON.parse(t); e.textContent = "Welcome, ".concat(n.name, "!") } catch (t) { console.error("Failed to parse stored user data"), e.textContent = "Welcome!" } else e && (e.textContent = "Welcome!") }() })();